# task-observer

## Реализованный функционал
- Крайне простая схема БД;
- Кастомная jwt авторизация;
- Реактивное изменение свойств;
- Система эндпоинтов (CRUD по отношению к задачам);
- Обязательная авторизация;
- Автоматическая авторизация после регистрации.

## Стэк технологий
- FastAPI (jwt, werkzeug);
- SQLAlchemy + SQLite + Alembic;
- Vue3 + Vue-Router + Typescript + Axios.

## Инструментарий
### Обязательно:
  - Python 3.12.0 
  - Node 20.11.1
  - npm ^10.2.4
  - Yarn ^1.22.22

### Оптимально:
  - Poetry ^3.7.9
  - Make ^4.4.1

## Установка
<details>
<summary><strong>Ручная</strong></summary>
<br>
Ручная установка подразумевает самостоятельное выполнение команд в терминале в целях скачивания необходимых зависимостей. 
<br>
Дальнейшая инструкция подразумевает, что у Вас уже установлены обязательные к использованию инструмента.
<br>
<ol>
  <li> 
  Установка и активация виртуального окружения:

      python3 -m venv .venv && source .venv/bin/activate
      
  В случае работы на Windows:

      python3 -m venv .venv && .venv\Scripts\activate
  </li>
  <li>
  Установка зависимостей из <i>requirements.py</i>:

      pip install -r ./requirements.txt
  </li>
  <li>
  Создание <i>.env</i> файла

      python3 server/config/set_env.py
  </li>
  <li>
  Применение миграций:
  
      python3 alembic upgrade head

  <i>При выполнении миграцией в консоли может возникнуть ошибка. При сомнении в корректности данных необходимо удалить private/db.sqlite. При запуске проекта все модели создадутся автоматически в правильном формате.</i>
  </li>
  <li>
  Установка зависимостей для клиентской части:

      yarn install
  </li>
<br>
</details>
<details>
<summary><strong>Автоматическая (рекомендуемая)</strong></summary>
<br>
Автоматическая установка подразумевает, что на Вашем устройстве уже установлены инструменты Poetry и Make. Я рекомендую именно этот способ в силу меньшего ввода команд.
<br>

<br>
Для выполнения полноценной установки Вам необходимо выполнить всего лишь одну команду:

    make install

<i><strong>Все действия с виртуальным окружением python должны производится из под "poetry run <...>"</strong></i>
<br>
</details>


## Запуск

В целях отказоустойчивости совместной работы сервера и клиента рекомендуется запускать их в разных терминалах. Более того это позволит корректно отследить возникшие ошибки и в случае их возникновения ясно сообщить о них.

#### При ручной установке:
- Client:
  ```
  yarn serve
  ```
- Backend (с активированным виртуальным окружением):
  ```
  python3 uvicorn server.app:app --reload
  ```

#### При рекомендованном способе установки:
- Client:
  ```
  make run-frontend
  ```
- Backend:
  ```
  make run-backend
  ```

## Полезные ссылки
- SwaggerUI: [http://localhost:8000/docs](http://localhost:8000/docs)
- Client: [http://localhost:8080](http://localhost:8080/)
- Telegram: [@slay_meow](https://t.me/slay_meow) (¬‿¬ )